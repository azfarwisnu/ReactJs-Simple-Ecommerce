{"ast":null,"code":"var _jsxFileName = \"/home/abdulmuiz/js/react/jc-online-emmerce/src/pages/Home.jsx\";\nimport React from \"react\";\nimport ProductCard from \"../components/ProductCard\";\nimport Axios from 'axios';\nimport { API_URL } from '../constants/API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Home extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      productList: [],\n      filteredProductList: [],\n      page: 1,\n      maxPage: 0,\n      itemPerPage: 5,\n      searchProductName: \"\",\n      searchCategory: \"\",\n      sortBy: \"\"\n    };\n\n    this.fetchProducts = () => {\n      Axios.get(`${API_URL}/products`).then(result => {\n        this.setState({\n          productList: result.data,\n          maxPage: Math.ceil(result.data.length / this.state.itemPerPage),\n          filteredProductList: result.data\n        });\n      }).catch(() => {\n        alert(\"Terjadi kesalahan di server\");\n      });\n    };\n\n    this.renderProducts = () => {\n      const beginningIndex = (this.state.page - 1) * this.state.itemPerPage;\n      let rawData = [...this.state.filteredProductList];\n\n      const compareString = (a, b) => {\n        if (a.productName < b.productName) {\n          return -1;\n        }\n\n        if (a.productName > b.productName) {\n          return 1;\n        }\n\n        return 0;\n      };\n\n      switch (this.state.sortBy) {\n        case \"lowPrice\":\n          rawData.sort((a, b) => a.price - b.price);\n          break;\n\n        case \"highPrice\":\n          rawData.sort((a, b) => b.price - a.price);\n          break;\n\n        case \"az\":\n          rawData.sort(compareString);\n          break;\n\n        case \"za\":\n          rawData.sort((a, b) => compareString(b, a));\n          break;\n\n        default:\n          rawData = [...this.state.filteredProductList];\n          break;\n      }\n\n      const currentData = rawData.slice(beginningIndex, beginningIndex + this.state.itemPerPage);\n      return currentData.map(val => {\n        return /*#__PURE__*/_jsxDEV(ProductCard, {\n          productData: val\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 14\n        }, this);\n      });\n    };\n\n    this.nextPageHandler = () => {\n      if (this.state.page < this.state.maxPage) {\n        this.setState({\n          page: this.state.page + 1\n        });\n      }\n    };\n\n    this.prevPageHandler = () => {\n      if (this.state.page > 1) {\n        this.setState({\n          page: this.state.page - 1\n        });\n      }\n    };\n\n    this.inputHandler = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.searchBtnHandler = () => {\n      const filteredProductList = this.state.productList.filter(val => {\n        return val.productName.toLowerCase().includes(this.state.searchProductName.toLowerCase()) && val.category.toLowerCase().includes(this.state.searchCategory.toLowerCase());\n      });\n      this.setState({\n        filteredProductList,\n        maxPage: Math.ceil(filteredProductList.length / this.state.itemPerPage),\n        page: 1\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchProducts();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Filter Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"searchProductName\",\n                children: \"Product Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: this.inputHandler,\n                name: \"searchProductName\",\n                type: \"text\",\n                className: \"form-control mb-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"searchCategory\",\n                children: \"Product Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: this.inputHandler,\n                name: \"searchCategory\",\n                className: \"form-control\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"kaos\",\n                  children: \"Kaos\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"celana\",\n                  children: \"Celana\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"aksesoris\",\n                  children: \"Aksesoris\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.searchBtnHandler,\n                className: \"btn btn-primary mt-3\",\n                children: \"Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Sort Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"sortBy\",\n                children: \"Sort by\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: this.inputHandler,\n                name: \"sortBy\",\n                className: \"form-control\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Default\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"lowPrice\",\n                  children: \"Lowest Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"highPrice\",\n                  children: \"Highest Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"az\",\n                  children: \"A-Z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"za\",\n                  children: \"Z-A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-row justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: this.state.page === 1,\n                onClick: this.prevPageHandler,\n                className: \"btn btn-dark\",\n                children: \"<\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [\"Page \", this.state.page, \" of \", this.state.maxPage]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                disabled: this.state.page === this.state.maxPage,\n                onClick: this.nextPageHandler,\n                className: \"btn btn-dark\",\n                children: \">\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-9\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-wrap flex-row\",\n            children: this.renderProducts()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/abdulmuiz/js/react/jc-online-emmerce/src/pages/Home.jsx"],"names":["React","ProductCard","Axios","API_URL","Home","Component","state","productList","filteredProductList","page","maxPage","itemPerPage","searchProductName","searchCategory","sortBy","fetchProducts","get","then","result","setState","data","Math","ceil","length","catch","alert","renderProducts","beginningIndex","rawData","compareString","a","b","productName","sort","price","currentData","slice","map","val","nextPageHandler","prevPageHandler","inputHandler","event","name","target","value","searchBtnHandler","filter","toLowerCase","includes","category","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ProductCard from \"../components/ProductCard\";\nimport Axios from 'axios'\nimport { API_URL } from '../constants/API'\n\nclass Home extends React.Component {\n  state = {\n    productList: [],\n    filteredProductList: [],\n    page: 1,\n    maxPage: 0,\n    itemPerPage: 5,\n    searchProductName: \"\",\n    searchCategory: \"\",\n    sortBy: \"\",\n  }\n\n  fetchProducts = () => {\n    Axios.get(`${API_URL}/products`)\n    .then((result) => {\n      this.setState({ productList: result.data, maxPage: Math.ceil(result.data.length / this.state.itemPerPage), filteredProductList: result.data })\n    })\n    .catch(() => {\n      alert(\"Terjadi kesalahan di server\")\n    })\n  }\n\n  renderProducts = () => {\n    const beginningIndex = (this.state.page - 1) * this.state.itemPerPage\n    let rawData = [ ...this.state.filteredProductList ]\n\n    const compareString = (a, b) => {\n      if (a.productName < b.productName) {\n        return -1;\n      }\n\n      if (a.productName > b.productName) {\n        return 1;\n      }\n\n      return 0;\n    }\n\n    switch (this.state.sortBy) {\n      case \"lowPrice\":\n        rawData.sort((a, b) => a.price - b.price);\n        break\n      case \"highPrice\":\n        rawData.sort((a, b) => b.price - a.price);\n        break\n      case \"az\":\n        rawData.sort(compareString);\n        break\n      case \"za\":\n        rawData.sort((a, b) => compareString(b, a));\n        break\n      default:\n        rawData = [ ...this.state.filteredProductList ];\n        break;\n    }\n\n    const currentData = rawData.slice(beginningIndex, beginningIndex + this.state.itemPerPage)\n\n    return currentData.map((val) => {\n      return <ProductCard productData={val} />\n    })\n  }\n\n  nextPageHandler = () => {\n    if (this.state.page < this.state.maxPage) {\n      this.setState({ page: this.state.page + 1 })\n    }\n  }\n\n  prevPageHandler = () => {\n    if (this.state.page > 1) {\n      this.setState({ page: this.state.page - 1 })\n    }\n  }\n\n  inputHandler = (event) => {\n    const name = event.target.name\n    const value = event.target.value\n\n    this.setState({ [name]: value })\n  }\n\n  searchBtnHandler = () => {\n    const filteredProductList = this.state.productList.filter((val) => {\n      return val.productName.toLowerCase().includes(this.state.searchProductName.toLowerCase()) && val.category.toLowerCase().includes(this.state.searchCategory.toLowerCase());\n    })\n\n    this.setState({ filteredProductList, maxPage: Math.ceil(filteredProductList.length / this.state.itemPerPage), page: 1 })\n  }\n\n  componentDidMount() {\n    this.fetchProducts();\n  }\n\n  render() {\n    return (\n      <div className=\"container mt-5\">\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <div className=\"card\">\n              <div className=\"card-header\">\n                <strong>Filter Products</strong>\n              </div>\n              <div className=\"card-body\">\n                <label htmlFor=\"searchProductName\">Product Name</label>\n                <input\n                  onChange={this.inputHandler}\n                  name=\"searchProductName\"\n                  type=\"text\"\n                  className=\"form-control mb-3\"\n                />\n                <label htmlFor=\"searchCategory\">Product Category</label>\n                <select onChange={this.inputHandler} name=\"searchCategory\" className=\"form-control\">\n                  <option value=\"\">All Items</option>\n                  <option value=\"kaos\">Kaos</option>\n                  <option value=\"celana\">Celana</option>\n                  <option value=\"aksesoris\">Aksesoris</option>\n                </select>\n                <button onClick={this.searchBtnHandler} className=\"btn btn-primary mt-3\">\n                  Search\n                </button>\n              </div>\n            </div>\n            <div className=\"card mt-4\">\n              <div className=\"card-header\">\n                <strong>Sort Products</strong>\n              </div>\n              <div className=\"card-body\">\n                <label htmlFor=\"sortBy\">Sort by</label>\n                <select onChange={this.inputHandler} name=\"sortBy\" className=\"form-control\">\n                  <option value=\"\">Default</option>\n                  <option value=\"lowPrice\">Lowest Price</option>\n                  <option value=\"highPrice\">Highest Price</option>\n                  <option value=\"az\">A-Z</option>\n                  <option value=\"za\">Z-A</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"mt-3\">\n              <div className=\"d-flex flex-row justify-content-between align-items-center\">\n                <button disabled={this.state.page === 1} onClick={this.prevPageHandler} className=\"btn btn-dark\">\n                  {\"<\"}\n                </button>\n                <div className=\"text-center\">Page {this.state.page} of {this.state.maxPage}</div>\n                <button disabled={this.state.page === this.state.maxPage} onClick={this.nextPageHandler} className=\"btn btn-dark\">\n                  {\">\"}\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-9\">\n            <div className=\"d-flex flex-wrap flex-row\">\n              {/* Render products here */}\n              {this.renderProducts()}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}