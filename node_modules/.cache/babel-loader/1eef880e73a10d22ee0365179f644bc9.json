{"ast":null,"code":"var _jsxFileName = \"/home/abdulmuiz/js/react/jc-online-emmerce/src/pages/History.jsx\";\nimport React from 'react';\nimport Axios from \"axios\";\nimport { API_URL } from \"../constants/API\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass History extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      transactionList: [],\n      transactionDetails: []\n    };\n\n    this.fetchTransactions = () => {\n      Axios.get(`${API_URL}/transactions`, {\n        params: {\n          userId: this.props.userGlobal.id\n        }\n      }).then(result => {\n        this.setState({\n          transactionList: result.data\n        });\n        console.log(this.state.transactionList);\n      }).catch(() => {\n        alert(\"terjadi kesalahan pada server\");\n      });\n    };\n\n    this.seeTransactionsDetails = transactionDetails => {\n      return this.setState({\n        transactionDetails\n      });\n    };\n\n    this.renderTransactions = () => {\n      return this.state.transactionList.map(val => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: val.transactionDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: val.transactionItems.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: val.totalPrice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => this.seeTransactionsDetails(val.transactionItems),\n              className: \"btn btn-info\",\n              children: \"See Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 4\n        }, this);\n      });\n    };\n\n    this.renderTransactionsDetailItems = () => {\n      return this.state.transactionDetails.map(val => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex my-2 flex-row justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font font-weight\",\n              children: val.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: val.price * val.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 12\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 10\n        }, this);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchTransactions();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Transaction History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"thead-light\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Transactions Pages\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 14\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Total Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 14\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Total Prices\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 14\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 14\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: this.renderTransactions()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 12\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Transactions Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: this.renderTransactionsDetailItems()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 12\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userGlobal: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(History);","map":{"version":3,"sources":["/home/abdulmuiz/js/react/jc-online-emmerce/src/pages/History.jsx"],"names":["React","Axios","API_URL","connect","History","Component","state","transactionList","transactionDetails","fetchTransactions","get","params","userId","props","userGlobal","id","then","result","setState","data","console","log","catch","alert","seeTransactionsDetails","renderTransactions","map","val","transactionDate","transactionItems","length","totalPrice","renderTransactionsDetailItems","productName","price","quantity","componentDidMount","render","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Axios from \"axios\"\nimport { API_URL } from \"../constants/API\"\nimport { connect } from \"react-redux\"\n\n\n\nclass History extends React.Component {\n\nstate = {\n\ttransactionList: [],\n\ttransactionDetails: [],\n}\n\n\nfetchTransactions = () => {\n\tAxios.get(`${API_URL}/transactions`,{\n\t\tparams: {\n\t\t\tuserId: this.props.userGlobal.id\n\t\t}\n\t})\n\t.then((result) => {\n\t\tthis.setState({transactionList: result.data})\n\t\tconsole.log(this.state.transactionList);\n\t})\n\t.catch(() => {\n\t\talert(\"terjadi kesalahan pada server\")\n\t})\n}\n\n\nseeTransactionsDetails = (transactionDetails) => {\n\treturn this.setState({ transactionDetails })\n}\n\n\nrenderTransactions = () => {\n\treturn this.state.transactionList.map(val => {\n\t\treturn(\n\t\t\t<tr>\n        \t\t<td>{val.transactionDate}</td>\n        \t\t<td>{val.transactionItems.length}</td>\n        \t\t<td>{val.totalPrice}</td>\n        \t\t<td>\n        \t\t\t<button onClick={() => this.seeTransactionsDetails(val.transactionItems)} className=\"btn btn-info\">See Details</button>\n        \t\t</td>\n        \t</tr>\n\t\t)\n\t})\n\n}\n\n\nrenderTransactionsDetailItems = () => {\n\treturn this.state.transactionDetails.map(val => {\n\t\treturn (\n        \t<div className=\"card-body\">\n        \t\t<div className=\"d-flex my-2 flex-row justify-content-between align-items-center\">\n        \t\t\t<span className=\"font font-weight\">{val.productName}</span>\n        \t\t\t<span>{val.price * val.quantity}</span>\n        \t\t</div>\n        \t</div>\n\t\t)\n\t})\n}\n\n\n\n\ncomponentDidMount() {\n\tthis.fetchTransactions();\n}\n\n\n  render() {\n    return (\n      <div className=\"p-5\">\n        <h1>Transaction History</h1>\n        <div className=\"row mt-5\">\n        \t<div className=\"col-8\">\n        \t\t<table className=\"table\">\n        \t\t\t<thead className=\"thead-light\">\n        \t\t\t\t<tr>\n        \t\t\t\t\t<th>Transactions Pages</th>\n        \t\t\t\t\t<th>Total Items</th>\n        \t\t\t\t\t<th>Total Prices</th>\n        \t\t\t\t\t<th>Action</th>\n        \t\t\t\t</tr>\n        \t\t\t</thead>\n        \t\t\t<tbody>\n        \t\t\t\t{this.renderTransactions()}\n        \t\t\t</tbody>\n        \t\t</table>\n        \t</div>\n        \t<div className=\"col-4\">\n        \t\t<div className=\"card\">\n        \t\t\t<div className=\"card-header\">\n        \t\t\t\t<strong>Transactions Details</strong>\n        \t\t\t</div>\n        \t\t\t<div className=\"card-body\">\n        \t\t\t\t{this.renderTransactionsDetailItems()}\n        \t\t\t</div>\n        \t\t</div>\n        \t</div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n\treturn{\n\t\tuserGlobal: state.user\n\t}\n}\n\nexport default connect(mapStateToProps)(History);"]},"metadata":{},"sourceType":"module"}