{"ast":null,"code":"var _jsxFileName = \"/home/abdulmuiz/js/react/jc-online-emmerce/src/components/ProductCard.jsx\";\nimport React from \"react\";\nimport \"../assets/styles/product_card.css\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\nimport { API_URL } from \"../constants/API\";\nimport { getCardData } from \"../redux/actions/cart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProductCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addToCartHandler = () => {\n      // Check apakah user sudah memiliki barang tsb di cart\n      Axios.get(`${API_URL}/carts`, {\n        params: {\n          userId: this.props.userGlobal.id,\n          productId: this.props.productData.id\n        }\n      }).then(result => {\n        if (result.data.length) {\n          // Barangnya sudah ada di cart user\n          Axios.patch(`${API_URL}/carts/${result.data[0].id}`, {\n            quantity: result.data[0].quantity + 1\n          }).then(() => {\n            alert(\"Berhasil menambahkan barang\");\n            this.props.getCartData(this.props.userGlobal.id);\n          }).catch(() => {\n            alert(\"Terjadi kesalahan di server\");\n          });\n        } else {\n          // Barangnya belum ada di cart user\n          Axios.post(`${API_URL}/carts`, {\n            userId: this.props.userGlobal.id,\n            productId: this.state.productData.id,\n            price: this.state.productData.price,\n            productName: this.state.productData.productName,\n            productImage: this.state.productData.productImage,\n            quantity: this.state.quantity\n          }).then(() => {\n            alert(\"Berhasil menambahkan barang\");\n            this.props.getCartData(this.props.userGlobal.id);\n          }).catch(() => {\n            alert(\"Terjadi kesalahan di server\");\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card product-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: this.props.productData.productImage,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/product-detail/${this.props.productData.id}`,\n            style: {\n              textDecoration: \"none\",\n              color: \"inherit\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: this.props.productData.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-muted\",\n            children: [\"Rp. \", this.props.productData.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary mt-4 \",\n            children: \"Add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jarak\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/product-detail/${this.props.productData.id}`,\n              style: {\n                textDecoration: \"none\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success mt-4\",\n                children: \"View Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    userGlobal: state.user\n  };\n};\n\nexport default connect(mapStateToProps)(ProductCard);","map":{"version":3,"sources":["/home/abdulmuiz/js/react/jc-online-emmerce/src/components/ProductCard.jsx"],"names":["React","Link","connect","Axios","API_URL","getCardData","ProductCard","Component","addToCartHandler","get","params","userId","props","userGlobal","id","productId","productData","then","result","data","length","patch","quantity","alert","getCartData","catch","post","state","price","productName","productImage","render","textDecoration","color","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../assets/styles/product_card.css\";\nimport { Link } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport Axios from \"axios\"\nimport { API_URL } from \"../constants/API\" \nimport { getCardData } from \"../redux/actions/cart\"\n\nclass ProductCard extends React.Component {\n\naddToCartHandler = () => {\n    // Check apakah user sudah memiliki barang tsb di cart\n    Axios.get(`${API_URL}/carts`, {\n      params: {\n        userId: this.props.userGlobal.id,\n        productId: this.props.productData.id,\n      }\n    })\n    .then((result) => {\n      if (result.data.length) { // Barangnya sudah ada di cart user\n        Axios.patch(`${API_URL}/carts/${result.data[0].id}`, {\n          quantity: result.data[0].quantity + 1\n        })\n        .then(() => {\n          alert(\"Berhasil menambahkan barang\")\n          this.props.getCartData(this.props.userGlobal.id)\n        })\n        .catch(() => {\n          alert(\"Terjadi kesalahan di server\")\n        })\n\n      } else { // Barangnya belum ada di cart user\n        Axios.post(`${API_URL}/carts`, {\n          userId: this.props.userGlobal.id,\n          productId: this.state.productData.id,\n          price: this.state.productData.price,\n          productName: this.state.productData.productName,\n          productImage: this.state.productData.productImage,\n          quantity: this.state.quantity,\n        })\n        .then(() => {\n          alert(\"Berhasil menambahkan barang\")\n          this.props.getCartData(this.props.userGlobal.id)\n        })\n        .catch(() => {\n          alert(\"Terjadi kesalahan di server\")\n        })\n      }\n    })\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"card product-card\">\n        <img\n          src={this.props.productData.productImage}\n          alt=\"\"\n        />\n        <div className=\"mt-2\">\n          <div>\n            <Link to={`/product-detail/${this.props.productData.id}`} style={{ textDecoration: \"none\", color: \"inherit\"}}>\n              <h6>{this.props.productData.productName}</h6>\n            </Link>\n            <span className=\"text-muted\">Rp. {this.props.productData.price}</span>\n          </div>\n          <div className=\"d-flex flex-row justify-content-end\">\n            <button className=\"btn btn-primary mt-4 \">Add to cart</button>\n            <div className=\"jarak\">\n              <Link to={`/product-detail/${this.props.productData.id}`} style={{ textDecoration: \"none\"}}>\n                <button className=\"btn btn-success mt-4\">View Product</button>\n             </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return{\n    userGlobal: state.user,\n  }\n}\n\nexport default connect(mapStateToProps)(ProductCard);"]},"metadata":{},"sourceType":"module"}