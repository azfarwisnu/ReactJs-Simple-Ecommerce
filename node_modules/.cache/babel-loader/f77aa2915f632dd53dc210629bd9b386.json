{"ast":null,"code":"var _jsxFileName = \"/home/abdulmuiz/js/react/jc-online-emmerce/src/components/ProductCard.jsx\";\nimport React from \"react\";\nimport \"../assets/styles/product_card.css\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProductCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addToCartHandler = () => {\n      // Check apakah user sudah memiliki barang tsb di cart\n      Axios.get(`${API_URL}/carts`, {\n        params: {\n          userId: this.props.userGlobal.id,\n          productId: this.state.productData.id\n        }\n      }).then(result => {\n        if (result.data.length) {\n          // Barangnya sudah ada di cart user\n          Axios.patch(`${API_URL}/carts/${result.data[0].id}`, {\n            quantity: result.data[0].quantity + this.state.quantity\n          }).then(() => {\n            alert(\"Berhasil menambahkan barang\");\n            this.props.getCartData(this.props.userGlobal.id);\n          }).catch(() => {\n            alert(\"Terjadi kesalahan di server\");\n          });\n        } else {\n          // Barangnya belum ada di cart user\n          Axios.post(`${API_URL}/carts`, {\n            userId: this.props.userGlobal.id,\n            productId: this.state.productData.id,\n            price: this.state.productData.price,\n            productName: this.state.productData.productName,\n            productImage: this.state.productData.productImage,\n            quantity: this.state.quantity\n          }).then(() => {\n            alert(\"Berhasil menambahkan barang\");\n            this.props.getCartData(this.props.userGlobal.id);\n          }).catch(() => {\n            alert(\"Terjadi kesalahan di server\");\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card product-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: this.props.productData.productImage,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/product-detail/${this.props.productData.id}`,\n            style: {\n              textDecoration: \"none\",\n              color: \"inherit\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: this.props.productData.productName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-muted\",\n            children: [\"Rp. \", this.props.productData.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary mt-4 \",\n            children: \"Add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jarak\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/product-detail/${this.props.productData.id}`,\n              style: {\n                textDecoration: \"none\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-success mt-4\",\n                children: \"View Product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nmapStateToProps = state => {};\n\nexport default ProductCard;","map":{"version":3,"sources":["/home/abdulmuiz/js/react/jc-online-emmerce/src/components/ProductCard.jsx"],"names":["React","Link","connect","ProductCard","Component","addToCartHandler","Axios","get","API_URL","params","userId","props","userGlobal","id","productId","state","productData","then","result","data","length","patch","quantity","alert","getCartData","catch","post","price","productName","productImage","render","textDecoration","color","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../assets/styles/product_card.css\";\nimport { Link } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\n\nclass ProductCard extends React.Component {\n\naddToCartHandler = () => {\n    // Check apakah user sudah memiliki barang tsb di cart\n    Axios.get(`${API_URL}/carts`, {\n      params: {\n        userId: this.props.userGlobal.id,\n        productId: this.state.productData.id,\n      }\n    })\n    .then((result) => {\n      if (result.data.length) { // Barangnya sudah ada di cart user\n        Axios.patch(`${API_URL}/carts/${result.data[0].id}`, {\n          quantity: result.data[0].quantity + this.state.quantity\n        })\n        .then(() => {\n          alert(\"Berhasil menambahkan barang\")\n          this.props.getCartData(this.props.userGlobal.id)\n        })\n        .catch(() => {\n          alert(\"Terjadi kesalahan di server\")\n        })\n\n      } else { // Barangnya belum ada di cart user\n        Axios.post(`${API_URL}/carts`, {\n          userId: this.props.userGlobal.id,\n          productId: this.state.productData.id,\n          price: this.state.productData.price,\n          productName: this.state.productData.productName,\n          productImage: this.state.productData.productImage,\n          quantity: this.state.quantity,\n        })\n        .then(() => {\n          alert(\"Berhasil menambahkan barang\")\n          this.props.getCartData(this.props.userGlobal.id)\n        })\n        .catch(() => {\n          alert(\"Terjadi kesalahan di server\")\n        })\n      }\n    })\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"card product-card\">\n        <img\n          src={this.props.productData.productImage}\n          alt=\"\"\n        />\n        <div className=\"mt-2\">\n          <div>\n            <Link to={`/product-detail/${this.props.productData.id}`} style={{ textDecoration: \"none\", color: \"inherit\"}}>\n              <h6>{this.props.productData.productName}</h6>\n            </Link>\n            <span className=\"text-muted\">Rp. {this.props.productData.price}</span>\n          </div>\n          <div className=\"d-flex flex-row justify-content-end\">\n            <button className=\"btn btn-primary mt-4 \">Add to cart</button>\n            <div className=\"jarak\">\n              <Link to={`/product-detail/${this.props.productData.id}`} style={{ textDecoration: \"none\"}}>\n                <button className=\"btn btn-success mt-4\">View Product</button>\n             </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nmapStateToProps = state => {\n\n}\n\nexport default ProductCard;"]},"metadata":{},"sourceType":"module"}